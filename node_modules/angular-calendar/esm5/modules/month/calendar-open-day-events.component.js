import * as tslib_1 from "tslib";
import { Component, Input, Output, EventEmitter, TemplateRef } from '@angular/core';
import { trigger, style, state, transition, animate } from '@angular/animations';
import { isWithinThreshold, trackByEventId } from '../common/util';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';
import * as ɵngcc2 from 'angular-draggable-droppable';
import * as ɵngcc3 from '../common/calendar-event-title.component';
import * as ɵngcc4 from '../common/click.directive';
import * as ɵngcc5 from '../common/keydown-enter.directive';
import * as ɵngcc6 from '../common/calendar-event-actions.component';
import * as ɵngcc7 from '../common/calendar-a11y.pipe';

var _c0 = function (a0) { return { event: a0 }; };
var _c1 = function (a0, a1) { return { x: a0, y: a1 }; };
var _c2 = function (a0) { return { backgroundColor: a0 }; };
var _c3 = function (a0, a1) { return { event: a0, locale: a1 }; };
function CalendarOpenDayEventsComponent_ng_template_0_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    var _r255 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 7);
    ɵngcc0.ɵɵelement(1, "span", 8);
    ɵngcc0.ɵɵtext(2, " ");
    ɵngcc0.ɵɵelementStart(3, "mwl-calendar-event-title", 9);
    ɵngcc0.ɵɵlistener("mwlClick", function CalendarOpenDayEventsComponent_ng_template_0_div_0_div_5_Template_mwl_calendar_event_title_mwlClick_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r255); var event_r253 = ctx.$implicit; var eventClicked_r247 = ɵngcc0.ɵɵnextContext(2).eventClicked; return eventClicked_r247.emit({ event: event_r253, sourceEvent: $event }); })("mwlKeydownEnter", function CalendarOpenDayEventsComponent_ng_template_0_div_0_div_5_Template_mwl_calendar_event_title_mwlKeydownEnter_3_listener($event) { ɵngcc0.ɵɵrestoreView(_r255); var event_r253 = ctx.$implicit; var eventClicked_r247 = ɵngcc0.ɵɵnextContext(2).eventClicked; return eventClicked_r247.emit({ event: event_r253, sourceEvent: $event }); });
    ɵngcc0.ɵɵpipe(4, "calendarA11y");
    ɵngcc0.ɵɵelementEnd();
    ɵngcc0.ɵɵtext(5, " ");
    ɵngcc0.ɵɵelement(6, "mwl-calendar-event-actions", 10);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var event_r253 = ctx.$implicit;
    var validateDrag_r250 = ɵngcc0.ɵɵnextContext(2).validateDrag;
    var ctx_r252 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵclassProp("cal-draggable", event_r253.draggable);
    ɵngcc0.ɵɵproperty("ngClass", event_r253 == null ? null : event_r253.cssClass)("dropData", ɵngcc0.ɵɵpureFunction1(15, _c0, event_r253))("dragAxis", ɵngcc0.ɵɵpureFunction2(17, _c1, event_r253.draggable, event_r253.draggable))("validateDrag", validateDrag_r250);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵproperty("ngStyle", ɵngcc0.ɵɵpureFunction1(20, _c2, event_r253.color == null ? null : event_r253.color.primary));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("event", event_r253)("customTemplate", ctx_r252.eventTitleTemplate);
    ɵngcc0.ɵɵattribute("aria-label", ɵngcc0.ɵɵpipeBind2(4, 12, ɵngcc0.ɵɵpureFunction2(22, _c3, event_r253, ctx_r252.locale), "eventDescription"));
    ɵngcc0.ɵɵadvance(3);
    ɵngcc0.ɵɵproperty("event", event_r253)("customTemplate", ctx_r252.eventActionsTemplate);
} }
var _c4 = function (a0, a1) { return { date: a0, locale: a1 }; };
function CalendarOpenDayEventsComponent_ng_template_0_div_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵelementStart(0, "div", 3);
    ɵngcc0.ɵɵelement(1, "span", 4);
    ɵngcc0.ɵɵpipe(2, "calendarA11y");
    ɵngcc0.ɵɵelement(3, "span", 5);
    ɵngcc0.ɵɵpipe(4, "calendarA11y");
    ɵngcc0.ɵɵtemplate(5, CalendarOpenDayEventsComponent_ng_template_0_div_0_div_5_Template, 7, 25, "div", 6);
    ɵngcc0.ɵɵelementEnd();
} if (rf & 2) {
    var ctx_r260 = ɵngcc0.ɵɵnextContext();
    var events_r246 = ctx_r260.events;
    var trackByEventId_r249 = ctx_r260.trackByEventId;
    var ctx_r251 = ɵngcc0.ɵɵnextContext();
    ɵngcc0.ɵɵproperty("@collapse", undefined);
    ɵngcc0.ɵɵadvance(1);
    ɵngcc0.ɵɵattribute("aria-label", ɵngcc0.ɵɵpipeBind2(2, 5, ɵngcc0.ɵɵpureFunction2(11, _c4, ctx_r251.date, ctx_r251.locale), "openDayEventsAlert"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵattribute("aria-label", ɵngcc0.ɵɵpipeBind2(4, 8, ɵngcc0.ɵɵpureFunction2(14, _c4, ctx_r251.date, ctx_r251.locale), "openDayEventsLandmark"));
    ɵngcc0.ɵɵadvance(2);
    ɵngcc0.ɵɵproperty("ngForOf", events_r246)("ngForTrackBy", trackByEventId_r249);
} }
function CalendarOpenDayEventsComponent_ng_template_0_Template(rf, ctx) { if (rf & 1) {
    ɵngcc0.ɵɵtemplate(0, CalendarOpenDayEventsComponent_ng_template_0_div_0_Template, 6, 17, "div", 2);
} if (rf & 2) {
    var isOpen_r248 = ctx.isOpen;
    ɵngcc0.ɵɵproperty("ngIf", isOpen_r248);
} }
function CalendarOpenDayEventsComponent_ng_template_2_Template(rf, ctx) { }
var _c5 = function (a0, a1, a2, a3, a4) { return { events: a0, eventClicked: a1, isOpen: a2, trackByEventId: a3, validateDrag: a4 }; };
export var collapseAnimation = trigger('collapse', [
    state('void', style({
        height: 0,
        overflow: 'hidden',
        'padding-top': 0,
        'padding-bottom': 0
    })),
    state('*', style({
        height: '*',
        overflow: 'hidden',
        'padding-top': '*',
        'padding-bottom': '*'
    })),
    transition('* => void', animate('150ms ease-out')),
    transition('void => *', animate('150ms ease-in'))
]);
var CalendarOpenDayEventsComponent = /** @class */ (function () {
    function CalendarOpenDayEventsComponent() {
        this.isOpen = false;
        this.eventClicked = new EventEmitter();
        this.trackByEventId = trackByEventId;
        this.validateDrag = isWithinThreshold;
    }
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], CalendarOpenDayEventsComponent.prototype, "locale", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Boolean)
    ], CalendarOpenDayEventsComponent.prototype, "isOpen", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Array)
    ], CalendarOpenDayEventsComponent.prototype, "events", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarOpenDayEventsComponent.prototype, "customTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarOpenDayEventsComponent.prototype, "eventTitleTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", TemplateRef)
    ], CalendarOpenDayEventsComponent.prototype, "eventActionsTemplate", void 0);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", Date)
    ], CalendarOpenDayEventsComponent.prototype, "date", void 0);
    tslib_1.__decorate([
        Output(),
        tslib_1.__metadata("design:type", Object)
    ], CalendarOpenDayEventsComponent.prototype, "eventClicked", void 0);
CalendarOpenDayEventsComponent.ɵfac = function CalendarOpenDayEventsComponent_Factory(t) { return new (t || CalendarOpenDayEventsComponent)(); };
CalendarOpenDayEventsComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CalendarOpenDayEventsComponent, selectors: [["mwl-calendar-open-day-events"]], inputs: { isOpen: "isOpen", locale: "locale", events: "events", customTemplate: "customTemplate", eventTitleTemplate: "eventTitleTemplate", eventActionsTemplate: "eventActionsTemplate", date: "date" }, outputs: { eventClicked: "eventClicked" }, decls: 3, vars: 8, consts: [["defaultTemplate", ""], [3, "ngTemplateOutlet", "ngTemplateOutletContext"], ["class", "cal-open-day-events", "role", "application", 4, "ngIf"], ["role", "application", 1, "cal-open-day-events"], ["tabindex", "-1", "role", "alert"], ["tabindex", "0", "role", "landmark"], ["mwlDraggable", "", "dragActiveClass", "cal-drag-active", 3, "ngClass", "cal-draggable", "dropData", "dragAxis", "validateDrag", 4, "ngFor", "ngForOf", "ngForTrackBy"], ["mwlDraggable", "", "dragActiveClass", "cal-drag-active", 3, "ngClass", "dropData", "dragAxis", "validateDrag"], [1, "cal-event", 3, "ngStyle"], ["view", "month", "tabindex", "0", 3, "event", "customTemplate", "mwlClick", "mwlKeydownEnter"], [3, "event", "customTemplate"]], template: function CalendarOpenDayEventsComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵtemplate(0, CalendarOpenDayEventsComponent_ng_template_0_Template, 1, 1, "ng-template", null, 0, ɵngcc0.ɵɵtemplateRefExtractor);
        ɵngcc0.ɵɵtemplate(2, CalendarOpenDayEventsComponent_ng_template_2_Template, 0, 0, "ng-template", 1);
    } if (rf & 2) {
        var _r243 = ɵngcc0.ɵɵreference(1);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngTemplateOutlet", ctx.customTemplate || _r243)("ngTemplateOutletContext", ɵngcc0.ɵɵpureFunction5(2, _c5, ctx.events, ctx.eventClicked, ctx.isOpen, ctx.trackByEventId, ctx.validateDrag));
    } }, directives: [ɵngcc1.NgTemplateOutlet, ɵngcc1.NgIf, ɵngcc1.NgForOf, ɵngcc2.ɵb, ɵngcc1.NgClass, ɵngcc1.NgStyle, ɵngcc3.CalendarEventTitleComponent, ɵngcc4.ClickDirective, ɵngcc5.KeydownEnterDirective, ɵngcc6.CalendarEventActionsComponent], pipes: [ɵngcc7.CalendarA11yPipe], encapsulation: 2, data: { animation: [collapseAnimation] } });
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(CalendarOpenDayEventsComponent, [{
        type: Component,
        args: [{
                selector: 'mwl-calendar-open-day-events',
                template: "\n    <ng-template\n      #defaultTemplate\n      let-events=\"events\"\n      let-eventClicked=\"eventClicked\"\n      let-isOpen=\"isOpen\"\n      let-trackByEventId=\"trackByEventId\"\n      let-validateDrag=\"validateDrag\"\n    >\n      <div\n        class=\"cal-open-day-events\"\n        [@collapse]\n        *ngIf=\"isOpen\"\n        role=\"application\"\n      >\n        <span\n          tabindex=\"-1\"\n          role=\"alert\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale } | calendarA11y: 'openDayEventsAlert'\n          \"\n        ></span>\n        <span\n          tabindex=\"0\"\n          role=\"landmark\"\n          [attr.aria-label]=\"\n            { date: date, locale: locale }\n              | calendarA11y: 'openDayEventsLandmark'\n          \"\n        ></span>\n        <div\n          *ngFor=\"let event of events; trackBy: trackByEventId\"\n          [ngClass]=\"event?.cssClass\"\n          mwlDraggable\n          [class.cal-draggable]=\"event.draggable\"\n          dragActiveClass=\"cal-drag-active\"\n          [dropData]=\"{ event: event }\"\n          [dragAxis]=\"{ x: event.draggable, y: event.draggable }\"\n          [validateDrag]=\"validateDrag\"\n        >\n          <span\n            class=\"cal-event\"\n            [ngStyle]=\"{ backgroundColor: event.color?.primary }\"\n          >\n          </span>\n          &ngsp;\n          <mwl-calendar-event-title\n            [event]=\"event\"\n            [customTemplate]=\"eventTitleTemplate\"\n            view=\"month\"\n            (mwlClick)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            (mwlKeydownEnter)=\"\n              eventClicked.emit({ event: event, sourceEvent: $event })\n            \"\n            tabindex=\"0\"\n            [attr.aria-label]=\"\n              { event: event, locale: locale }\n                | calendarA11y: 'eventDescription'\n            \"\n          >\n          </mwl-calendar-event-title>\n          &ngsp;\n          <mwl-calendar-event-actions\n            [event]=\"event\"\n            [customTemplate]=\"eventActionsTemplate\"\n          >\n          </mwl-calendar-event-actions>\n        </div>\n      </div>\n    </ng-template>\n    <ng-template\n      [ngTemplateOutlet]=\"customTemplate || defaultTemplate\"\n      [ngTemplateOutletContext]=\"{\n        events: events,\n        eventClicked: eventClicked,\n        isOpen: isOpen,\n        trackByEventId: trackByEventId,\n        validateDrag: validateDrag\n      }\"\n    >\n    </ng-template>\n  ",
                animations: [collapseAnimation]
            }]
    }], function () { return []; }, { isOpen: [{
            type: Input
        }], eventClicked: [{
            type: Output
        }], locale: [{
            type: Input
        }], events: [{
            type: Input
        }], customTemplate: [{
            type: Input
        }], eventTitleTemplate: [{
            type: Input
        }], eventActionsTemplate: [{
            type: Input
        }], date: [{
            type: Input
        }] }); })();
    return CalendarOpenDayEventsComponent;
}());
export { CalendarOpenDayEventsComponent };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNwcm8va3JpdHNhZGVlL1NWTi9DeWJlcnNvZnQvYXBleC9ub2RlX21vZHVsZXMvYW5ndWxhci1jYWxlbmRhci9lc201L21vZHVsZXMvbW9udGgvY2FsZW5kYXItb3Blbi1kYXktZXZlbnRzLmNvbXBvbmVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7eUVBc0R5RTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O29CQU9sQyIsImZpbGUiOiJjYWxlbmRhci1vcGVuLWRheS1ldmVudHMuY29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgdHJpZ2dlciwgc3R5bGUsIHN0YXRlLCB0cmFuc2l0aW9uLCBhbmltYXRlIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBpc1dpdGhpblRocmVzaG9sZCwgdHJhY2tCeUV2ZW50SWQgfSBmcm9tICcuLi9jb21tb24vdXRpbCc7XG5leHBvcnQgdmFyIGNvbGxhcHNlQW5pbWF0aW9uID0gdHJpZ2dlcignY29sbGFwc2UnLCBbXG4gICAgc3RhdGUoJ3ZvaWQnLCBzdHlsZSh7XG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAncGFkZGluZy10b3AnOiAwLFxuICAgICAgICAncGFkZGluZy1ib3R0b20nOiAwXG4gICAgfSkpLFxuICAgIHN0YXRlKCcqJywgc3R5bGUoe1xuICAgICAgICBoZWlnaHQ6ICcqJyxcbiAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAncGFkZGluZy10b3AnOiAnKicsXG4gICAgICAgICdwYWRkaW5nLWJvdHRvbSc6ICcqJ1xuICAgIH0pKSxcbiAgICB0cmFuc2l0aW9uKCcqID0+IHZvaWQnLCBhbmltYXRlKCcxNTBtcyBlYXNlLW91dCcpKSxcbiAgICB0cmFuc2l0aW9uKCd2b2lkID0+IConLCBhbmltYXRlKCcxNTBtcyBlYXNlLWluJykpXG5dKTtcbnZhciBDYWxlbmRhck9wZW5EYXlFdmVudHNDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FsZW5kYXJPcGVuRGF5RXZlbnRzQ29tcG9uZW50KCkge1xuICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV2ZW50Q2xpY2tlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy50cmFja0J5RXZlbnRJZCA9IHRyYWNrQnlFdmVudElkO1xuICAgICAgICB0aGlzLnZhbGlkYXRlRHJhZyA9IGlzV2l0aGluVGhyZXNob2xkO1xuICAgIH1cbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG4gICAgXSwgQ2FsZW5kYXJPcGVuRGF5RXZlbnRzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJsb2NhbGVcIiwgdm9pZCAwKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuICAgIF0sIENhbGVuZGFyT3BlbkRheUV2ZW50c0NvbXBvbmVudC5wcm90b3R5cGUsIFwiaXNPcGVuXCIsIHZvaWQgMCk7XG4gICAgdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG4gICAgXSwgQ2FsZW5kYXJPcGVuRGF5RXZlbnRzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJldmVudHNcIiwgdm9pZCAwKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBUZW1wbGF0ZVJlZilcbiAgICBdLCBDYWxlbmRhck9wZW5EYXlFdmVudHNDb21wb25lbnQucHJvdG90eXBlLCBcImN1c3RvbVRlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgVGVtcGxhdGVSZWYpXG4gICAgXSwgQ2FsZW5kYXJPcGVuRGF5RXZlbnRzQ29tcG9uZW50LnByb3RvdHlwZSwgXCJldmVudFRpdGxlVGVtcGxhdGVcIiwgdm9pZCAwKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBJbnB1dCgpLFxuICAgICAgICB0c2xpYl8xLl9fbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCBUZW1wbGF0ZVJlZilcbiAgICBdLCBDYWxlbmRhck9wZW5EYXlFdmVudHNDb21wb25lbnQucHJvdG90eXBlLCBcImV2ZW50QWN0aW9uc1RlbXBsYXRlXCIsIHZvaWQgMCk7XG4gICAgdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgSW5wdXQoKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgRGF0ZSlcbiAgICBdLCBDYWxlbmRhck9wZW5EYXlFdmVudHNDb21wb25lbnQucHJvdG90eXBlLCBcImRhdGVcIiwgdm9pZCAwKTtcbiAgICB0c2xpYl8xLl9fZGVjb3JhdGUoW1xuICAgICAgICBPdXRwdXQoKSxcbiAgICAgICAgdHNsaWJfMS5fX21ldGFkYXRhKFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuICAgIF0sIENhbGVuZGFyT3BlbkRheUV2ZW50c0NvbXBvbmVudC5wcm90b3R5cGUsIFwiZXZlbnRDbGlja2VkXCIsIHZvaWQgMCk7XG4gICAgQ2FsZW5kYXJPcGVuRGF5RXZlbnRzQ29tcG9uZW50ID0gdHNsaWJfMS5fX2RlY29yYXRlKFtcbiAgICAgICAgQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnbXdsLWNhbGVuZGFyLW9wZW4tZGF5LWV2ZW50cycsXG4gICAgICAgICAgICB0ZW1wbGF0ZTogXCJcXG4gICAgPG5nLXRlbXBsYXRlXFxuICAgICAgI2RlZmF1bHRUZW1wbGF0ZVxcbiAgICAgIGxldC1ldmVudHM9XFxcImV2ZW50c1xcXCJcXG4gICAgICBsZXQtZXZlbnRDbGlja2VkPVxcXCJldmVudENsaWNrZWRcXFwiXFxuICAgICAgbGV0LWlzT3Blbj1cXFwiaXNPcGVuXFxcIlxcbiAgICAgIGxldC10cmFja0J5RXZlbnRJZD1cXFwidHJhY2tCeUV2ZW50SWRcXFwiXFxuICAgICAgbGV0LXZhbGlkYXRlRHJhZz1cXFwidmFsaWRhdGVEcmFnXFxcIlxcbiAgICA+XFxuICAgICAgPGRpdlxcbiAgICAgICAgY2xhc3M9XFxcImNhbC1vcGVuLWRheS1ldmVudHNcXFwiXFxuICAgICAgICBbQGNvbGxhcHNlXVxcbiAgICAgICAgKm5nSWY9XFxcImlzT3BlblxcXCJcXG4gICAgICAgIHJvbGU9XFxcImFwcGxpY2F0aW9uXFxcIlxcbiAgICAgID5cXG4gICAgICAgIDxzcGFuXFxuICAgICAgICAgIHRhYmluZGV4PVxcXCItMVxcXCJcXG4gICAgICAgICAgcm9sZT1cXFwiYWxlcnRcXFwiXFxuICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVxcXCJcXG4gICAgICAgICAgICB7IGRhdGU6IGRhdGUsIGxvY2FsZTogbG9jYWxlIH0gfCBjYWxlbmRhckExMXk6ICdvcGVuRGF5RXZlbnRzQWxlcnQnXFxuICAgICAgICAgIFxcXCJcXG4gICAgICAgID48L3NwYW4+XFxuICAgICAgICA8c3BhblxcbiAgICAgICAgICB0YWJpbmRleD1cXFwiMFxcXCJcXG4gICAgICAgICAgcm9sZT1cXFwibGFuZG1hcmtcXFwiXFxuICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVxcXCJcXG4gICAgICAgICAgICB7IGRhdGU6IGRhdGUsIGxvY2FsZTogbG9jYWxlIH1cXG4gICAgICAgICAgICAgIHwgY2FsZW5kYXJBMTF5OiAnb3BlbkRheUV2ZW50c0xhbmRtYXJrJ1xcbiAgICAgICAgICBcXFwiXFxuICAgICAgICA+PC9zcGFuPlxcbiAgICAgICAgPGRpdlxcbiAgICAgICAgICAqbmdGb3I9XFxcImxldCBldmVudCBvZiBldmVudHM7IHRyYWNrQnk6IHRyYWNrQnlFdmVudElkXFxcIlxcbiAgICAgICAgICBbbmdDbGFzc109XFxcImV2ZW50Py5jc3NDbGFzc1xcXCJcXG4gICAgICAgICAgbXdsRHJhZ2dhYmxlXFxuICAgICAgICAgIFtjbGFzcy5jYWwtZHJhZ2dhYmxlXT1cXFwiZXZlbnQuZHJhZ2dhYmxlXFxcIlxcbiAgICAgICAgICBkcmFnQWN0aXZlQ2xhc3M9XFxcImNhbC1kcmFnLWFjdGl2ZVxcXCJcXG4gICAgICAgICAgW2Ryb3BEYXRhXT1cXFwieyBldmVudDogZXZlbnQgfVxcXCJcXG4gICAgICAgICAgW2RyYWdBeGlzXT1cXFwieyB4OiBldmVudC5kcmFnZ2FibGUsIHk6IGV2ZW50LmRyYWdnYWJsZSB9XFxcIlxcbiAgICAgICAgICBbdmFsaWRhdGVEcmFnXT1cXFwidmFsaWRhdGVEcmFnXFxcIlxcbiAgICAgICAgPlxcbiAgICAgICAgICA8c3BhblxcbiAgICAgICAgICAgIGNsYXNzPVxcXCJjYWwtZXZlbnRcXFwiXFxuICAgICAgICAgICAgW25nU3R5bGVdPVxcXCJ7IGJhY2tncm91bmRDb2xvcjogZXZlbnQuY29sb3I/LnByaW1hcnkgfVxcXCJcXG4gICAgICAgICAgPlxcbiAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICZuZ3NwO1xcbiAgICAgICAgICA8bXdsLWNhbGVuZGFyLWV2ZW50LXRpdGxlXFxuICAgICAgICAgICAgW2V2ZW50XT1cXFwiZXZlbnRcXFwiXFxuICAgICAgICAgICAgW2N1c3RvbVRlbXBsYXRlXT1cXFwiZXZlbnRUaXRsZVRlbXBsYXRlXFxcIlxcbiAgICAgICAgICAgIHZpZXc9XFxcIm1vbnRoXFxcIlxcbiAgICAgICAgICAgIChtd2xDbGljayk9XFxcIlxcbiAgICAgICAgICAgICAgZXZlbnRDbGlja2VkLmVtaXQoeyBldmVudDogZXZlbnQsIHNvdXJjZUV2ZW50OiAkZXZlbnQgfSlcXG4gICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgKG13bEtleWRvd25FbnRlcik9XFxcIlxcbiAgICAgICAgICAgICAgZXZlbnRDbGlja2VkLmVtaXQoeyBldmVudDogZXZlbnQsIHNvdXJjZUV2ZW50OiAkZXZlbnQgfSlcXG4gICAgICAgICAgICBcXFwiXFxuICAgICAgICAgICAgdGFiaW5kZXg9XFxcIjBcXFwiXFxuICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XFxcIlxcbiAgICAgICAgICAgICAgeyBldmVudDogZXZlbnQsIGxvY2FsZTogbG9jYWxlIH1cXG4gICAgICAgICAgICAgICAgfCBjYWxlbmRhckExMXk6ICdldmVudERlc2NyaXB0aW9uJ1xcbiAgICAgICAgICAgIFxcXCJcXG4gICAgICAgICAgPlxcbiAgICAgICAgICA8L213bC1jYWxlbmRhci1ldmVudC10aXRsZT5cXG4gICAgICAgICAgJm5nc3A7XFxuICAgICAgICAgIDxtd2wtY2FsZW5kYXItZXZlbnQtYWN0aW9uc1xcbiAgICAgICAgICAgIFtldmVudF09XFxcImV2ZW50XFxcIlxcbiAgICAgICAgICAgIFtjdXN0b21UZW1wbGF0ZV09XFxcImV2ZW50QWN0aW9uc1RlbXBsYXRlXFxcIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgIDwvbXdsLWNhbGVuZGFyLWV2ZW50LWFjdGlvbnM+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9uZy10ZW1wbGF0ZT5cXG4gICAgPG5nLXRlbXBsYXRlXFxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRdPVxcXCJjdXN0b21UZW1wbGF0ZSB8fCBkZWZhdWx0VGVtcGxhdGVcXFwiXFxuICAgICAgW25nVGVtcGxhdGVPdXRsZXRDb250ZXh0XT1cXFwie1xcbiAgICAgICAgZXZlbnRzOiBldmVudHMsXFxuICAgICAgICBldmVudENsaWNrZWQ6IGV2ZW50Q2xpY2tlZCxcXG4gICAgICAgIGlzT3BlbjogaXNPcGVuLFxcbiAgICAgICAgdHJhY2tCeUV2ZW50SWQ6IHRyYWNrQnlFdmVudElkLFxcbiAgICAgICAgdmFsaWRhdGVEcmFnOiB2YWxpZGF0ZURyYWdcXG4gICAgICB9XFxcIlxcbiAgICA+XFxuICAgIDwvbmctdGVtcGxhdGU+XFxuICBcIixcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IFtjb2xsYXBzZUFuaW1hdGlvbl1cbiAgICAgICAgfSlcbiAgICBdLCBDYWxlbmRhck9wZW5EYXlFdmVudHNDb21wb25lbnQpO1xuICAgIHJldHVybiBDYWxlbmRhck9wZW5EYXlFdmVudHNDb21wb25lbnQ7XG59KCkpO1xuZXhwb3J0IHsgQ2FsZW5kYXJPcGVuRGF5RXZlbnRzQ29tcG9uZW50IH07XG4iXX0=